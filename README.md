# ğŸ’ªğŸ» í—¬ìŠ¤ì¥ ì›¹ í˜ì´ì§€ ë§Œë“¤ê¸°(íŒ€ í”„ë¡œì íŠ¸) ğŸ¥‡ğŸ¥ˆğŸ¥‰
ì´ 6ëª…ì´ì„œ ì§„í–‰í•œ í”„ë¡œì íŠ¸ì´ë©° 
í—¬ìŠ¤ì¥ ì†Œê°œ ë° ì˜ˆì•½, ìŠ¤ì¼€ì¤„ ê´€ë¦¬, ìª½ì§€ê¸°ëŠ¥, ê²Œì‹œíŒ , ëŒ“ê¸€ê¸°ëŠ¥ì„ í¬í•¨í•œ ì›¹ í˜ì´ì§€ ì…ë‹ˆë‹¤.  

#### ğŸ‘©ğŸ»â€ğŸ’»ë‹´ë‹¹ ì—…ë¬´ğŸ‘©ğŸ»â€ğŸ’»
- ììœ ê²Œì‹œíŒ CRUD ì‘ì—…ì˜ FEBE ìˆ˜í–‰
- ììœ ê²Œì‹œíŒ ëŒ“ê¸€ ì‘ì„±, ìˆ˜ì •, ì‚­ì œ, í˜ì´ì§•(AJAX)
- ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ êµ¬í˜„
- ì•„ì´ë”” ì°¾ê¸°
- ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°

#### ğŸ“šê¸°ìˆ ìŠ¤íƒğŸ“š
<img src="https://img.shields.io/badge/HTML5-E34F26?style=flat&logo=HTML5&logoColor=white"/> <img src="https://img.shields.io/badge/CSS3-1572B6?style=flat&logo=CSS3&logoColor=white"/> <img src="https://img.shields.io/badge/JavaScript-F7Df1E?style=flat&logo=JavaScript&logoColor=white"/> <img src="https://img.shields.io/badge/jQuery-0769AD?style=flat&logo=jQuery&logoColor=white"/>  
<img src="https://img.shields.io/badge/Spring-6DB33F?style=flat&logo=Spring&logoColor=white"/> <img src="https://img.shields.io/badge/Visual Studio Code-007ACC?style=flat&logo=Visual Studio Code&logoColor=white"/> <img src="https://img.shields.io/badge/GitHub-181717?style=flat&logo=GitHub&logoColor=white"/>
<img src="https://img.shields.io/badge/Discord-5865F2?style=flat&logo=Discord&logoColor=white"/>  
<img src="https://img.shields.io/badge/Tomcat-F8DC75?style=flat&logo=Apache Tomcat&logoColor=white"/> <img src="https://img.shields.io/badge/MySQL-4479A1?style=flat&logo=MySQL&logoColor=white"/>  


## ì£¼ì œ ì„ ì • ì´ìœ   
- ì½”ë¡œë‚˜ ì‹œêµ­ìœ¼ë¡œ ìš´ë™ì— ëŒ€í•œ ê´€ì‹¬ ì¦ê°€í•˜ë©´ì„œ íšŒì›ê°„ ìª½ì§€ ê¸°ëŠ¥ê³¼ ìš´ë™ ì»¤ë®¤ë‹ˆí‹°ë¥¼ í™œì„±í™” ì‹œí‚¤ì!
- ì§‘ì—ì„œ í¸ë¦¬í•˜ê²Œ GXë£¸ì„ ì˜ˆì•½ í•  ìˆ˜ ìˆê²Œ í•˜ì!  

## ì£¼ìš” ê¸°ëŠ¥
- ê°ì¢… ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒ 
- ì›í•˜ëŠ” ë‚ ì§œì— GXë£¸ ì˜ˆì•½ê¸°ëŠ¥ ê°œë°œ  
- íšŒì› ê°„ ìª½ì§€ ê¸°ëŠ¥ êµ¬í˜„ 

## USECASE
- íšŒì›  
    - íšŒì›ê°€ì…, ê°ì¢… ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒ ê¸€ì“°ê¸° ë° ëŒ“ê¸€ì„ ë“±ë¡, ìˆ˜ì •, ì‚­ì œ í•  ìˆ˜ ìˆë‹¤.  
    - ì›í•˜ëŠ” ë‚ ì§œì— GXë£¸ ìŠ¤ì¼€ì¤„ì„ ì¡°íšŒ, ì˜ˆì•½, ì·¨ì†Œ, ì¡°íšŒ í•  ìˆ˜ ìˆë‹¤.  
    - íšŒì› ì •ë³´ ìˆ˜ì • ë° íƒˆí‡´ í•  ìˆ˜ ìˆê³  ë‚´ê°€ ì“´ ê¸€, ëŒ“ê¸€ì„ ì¡°íšŒ í•  ìˆ˜ ìˆë‹¤.  
- ê´€ë¦¬ì
    - ê³µì§€ì‚¬í•­ ê²Œì‹œíŒ ê¸€ì“°ê¸° ë“±ë¡, ì‚­ì œ í•  ìˆ˜ ìˆë‹¤.
    - GXë£¸ ìŠ¤ì¼€ì¤„ì„ ë“±ë¡, ì‚­ì œ ë° ê´€ë¦¬ í•  ìˆ˜ ìˆë‹¤.

## ERD
<br><img src = "https://github.com/veryyounng/react_project/assets/121228672/ff40b7de-dc17-4b72-8b13-8411b6111675"/>
<br><br>

## Home ğŸ 
<br><img src = "https://github.com/veryyounng/react_project/assets/121228672/b57cea9c-87ec-4dee-ad9d-f32984db9863"/>
<br><br>

## ë¡œê·¸ì¸ í™”ë©´ 
<br><img src = "https://github.com/veryyounng/react_project/assets/121228672/b6bd6da2-4c35-43c6-b1b2-34d722087216"/>
<br><br>

## ë¡œê·¸ì•„ì›ƒ í™”ë©´
<br><img src = "https://github.com/veryyounng/react_project/assets/121228672/8bc4bdd8-ca1c-4cdf-ab0f-ffe9a818d5d4"/>
<br><br>

## ì•„ì´ë”” ì°¾ê¸°
<br><img src = "https://github.com/veryyounng/react_project/assets/121228672/d63405b6-506f-4e8d-9894-d404408baa53"/>
<br><br>

## ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°
<br><img src = "https://github.com/veryyounng/react_project/assets/121228672/2cdd3de4-c96d-4540-912e-8f0edb1a60a5"/>
<br><br>

## ììœ  ê²Œì‹œíŒ ê¸°ë³¸í™”ë©´
<br><img src = "https://github.com/veryyounng/react_project/assets/121228672/ade8e75f-00fd-4bba-a84f-91cca9cfd05c"/>
<br><br>

## ììœ  ê²Œì‹œíŒ ê¸€ì“°ê¸°
<br><img src = "https://github.com/veryyounng/react_project/assets/121228672/2c7d5124-5364-40c9-a0ab-8ea20c83478f"/>
<br><br>

## ììœ  ê²Œì‹œíŒ ìƒì„¸í˜ì´ì§€
<br><img src = "https://github.com/veryyounng/react_project/assets/121228672/803d4f57-cc44-450e-9c7f-23a1ef98334d"/>
<br><br>

## ë¡œê·¸ì¸
<br>

- controller
```java
	@RequestMapping(value = { "/login", "/join", "id_find", "/pw_find" , "/changePw"}, method = RequestMethod.GET)
	public void replace() {
	}

//  ë¡œê·¸ì¸
	@PostMapping("/login")
	public String login(UserVO vo, HttpServletRequest req, RedirectAttributes ra) throws Exception {
		UserVO loginUser = service.login(vo);
		if(loginUser == null) {
		
			ra.addFlashAttribute("loginfail", "F"); //nullê°’ì´ë¼ë©´ ë‹¤ì‹œ login í™”ë©´ìœ¼ë¡œ ì´ë™
			return "redirect:/user/login";
		}
		else {
			req.getSession().setAttribute("loginUser", loginUser);
			if(messageService.newMsg(loginUser.getUserid()) == 0) {
				req.getSession().setAttribute("newMsg", "F");
			} else {
				req.getSession().setAttribute("newMsg", "T");
			}
			return "redirect:/";
		}
	}
```
- mapper
```mysql
	<!-- ë¡œê·¸ì¸ -->
	<select id="login" resultType="com.gym.domain.UserVO">
		select * from user
		where userid = #{userid} and userpw = #{userpw}
	</select>
```
- jsp
```javascript
  function check(){
		let userid = $("#useridtext");
		let userpw = $("#userpwtext");
		if(userid.val() == ""){
			alert("ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
			userid.focus();
			return false;
		}
		if(userpw.val() == ""){
			alert("ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
			userpw.focus();
			return false;
		}
			return true;
	}
```
## ë¡œê·¸ì•„ì›ƒ
- controller
```java
@GetMapping("/logout")
	public String logout(HttpServletRequest req, RedirectAttributes ra) {
		HttpSession session = req.getSession();
		session.invalidate();
		ra.addFlashAttribute("logout", "T");
		return "redirect:/";
	}
```
## ì•„ì´ë”” ì°¾ê¸°
- controller
```java
@PostMapping("/findedid")
	public @ResponseBody UserVO postFindId(@RequestParam("username") String username, @RequestParam("email") String email) throws Exception {
		UserVO result = service.findId(username, email);
		if(result == null) {
			return null;
		}
		return result;
	}
```
- mapper
```mysql
<select id="findId" resultType="com.gym.domain.UserVO">
		select * from user where username =#{username} and email =#{email}
	</select>
```
- jsp
```javascript
$('#submitbutton').on('click',function(){
		const name = $('#usernametext').val();
	 	const email = $('#useremailtext').val() + '@' + $('#domain-txt').val();
		console.log(name);
		console.log(email);
		$.ajax({
	        url:'findedid',
	        type:'POST',
	        data: {"username": name,
	        	   "email": email},
	        dataType : "json",
	        success:function(result){
	        	let addString = $('#idfindtable');
	        	console.log("ì—ì´ì ìŠ¤ ì„±ê³µ");
	        	addString.empty();
	        	var str = "";
	        	if(result == null){
					str += '<div>';
					str += 'ì•„ì´ë””ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
					str += '</div>';
	        	} else {
	        		str += '<div>';
	               	str += '<span style="color:blue; font-weight:700;">"'+name + '"</span> ë‹˜ì˜ ì•„ì´ë””ëŠ” <span style="color:blue; font-weight:700;">"' + result.userid + '"</span> ì…ë‹ˆë‹¤.';
	       			str += '</div>';
	        	}
				addString.append(str);
	        },
	        error: function(request, error){
	        	alert('ì •ë³´ë¥¼ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì‹œê¸¸ ë°”ëë‹ˆë‹¤.' );
	        }
	    });
	});
```
## ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°
- controller
```java
//	ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ view ë³´ì—¬ì£¼ê¸° postë°©ì‹
	@PostMapping("/changePW_view")
	public String postChangePW_view(@RequestParam("username") String userid, Model model) throws Exception{
		model.addAttribute("userid", userid);
		return "/user/changePW";
	}
//	ë¹„ë°€ë²ˆí˜¸ ë³€ê²½í•˜ê¸°
	@PostMapping("/changePW")
	public String postChangePW(String userpw, String userid) throws Exception{
		service.changePW(userid, userpw);
		return "redirect:/user/login";
	}
```
- DAOImple.java
```java
//	ë¹„ë°€ë²ˆí˜¸ ì°¾ì„ ë•Œ íšŒì› ì •ë³´ ì°¾ê¸°
	@Override
	public int findpw(String userid, String email) {
		HashMap<String, String> data = new HashMap<String, String>();
		data.put("userid", userid);
		data.put("email", email);
		return sql.selectOne(namespace + ".findPw", data);
	}
//	ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
	@Override
	public void changePW(String userid, String userpw) throws Exception {
		HashMap<String, String> map =  new HashMap<String, String>();
		map.put("userid", userid);
		map.put("userpw", userpw);
		sql.update(namespace + ".changePW", map);
	}
```
## ììœ ê²Œì‹œíŒ í˜ì´ì§•
- controller
```java
//ê²Œì‹œë¬¼ ëª©ë¡, ê°¯ìˆ˜ ì„¸ê¸°
      @GetMapping("/freelist")
      public String getFreelist (String keyword, Model model,int num,String searchType) throws Exception{
        
       Page page = new Page();
       
       page.setNum(num);
       page.setCount(service.getSearchCnt(keyword,searchType));
       
       List<FreeBoardVO> list = service.getFreelist(keyword,searchType,page.getDisplayPost(), page.getPostNum());
       
        model.addAttribute("freelist", list);
        model.addAttribute("page",page);
        model.addAttribute("select", num);
        model.addAttribute("keyword", keyword);
        
         return "/board/freeboard_list";
      }
```
## ììœ ê²Œì‹œíŒ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
- controller
```java
//ê²Œì‹œë¬¼ ì¡°íšŒ
      @GetMapping ("/freedetail")
      public String getFreeDetail (String keyword, int b_num, Model model,int reply_num) throws Exception{
         service.freeViewCnt(b_num);
         //dbì— ê±°ì¹˜ë©´ viewCntê°€ +1ì´ ë¨-> ë©”ì†Œë“œ ì¢…ë£Œì‹œ , ë°‘ì¤„ì´ ì‹¤í–‰ë¨
         
         FreeBoardVO vo = service.getFreeDetail(b_num);
         model.addAttribute("freedetail", vo);
         model.addAttribute("keyword", keyword);
         
         //ëŒ“ê¸€ ì¡°íšŒ
         ReplyPage page = new ReplyPage();
           page.setNum(reply_num);
           page.setCount(service.getReplyCnt(b_num)); // ì´ê±°ëŠ” b_numì— ëŒ€í•œ reply ê°¯ìˆ˜
         
         List<ReplyVO> reply = null;
         reply = service.freeReplylist(b_num,page.getDisplayPost(), page.getPostNum());
         model.addAttribute("page",page);
         model.addAttribute("reply",reply);
         model.addAttribute("select", reply_num);
         
         return "/board/freeboard_detail";
      }
      
```
- mapper
```mysql
 <!-- ê²Œì‹œë¬¼ ëª©ë¡ ë³´ê¸° -->
   <select id="freeList" resultType="com.gym.domain.FreeBoardVO">
      select 
         b_num, b_title, b_writer, b_date, b_content, view_cnt
      from f_board 
      	<if test='searchType.equals("T")'>
   			where b_title like ('%${keyword}%') //ì œëª©í•„í„°ë¶„ë¥˜
   		</if>
   		<if test='searchType.equals("C")'>
   			where b_content like ('%${keyword}%') //ë‚´ìš©í•„í„°ë¶„ë¥˜
   		</if>
   		<if test='searchType.equals("TC")'>
   			where b_title like ('%${keyword}%') 
   				or b_content like ('%${keyword}%') //ì œëª©+ë‚´ìš©í•„í„°ë¶„ë¥˜
   		</if>
      order by b_num desc limit #{displayPost}, #{postNum}
   </select>
```
## ììœ ê²Œì‹œíŒ ê¸€ì“°ê¸°, ìˆ˜ì •, ì‚­ì œ
- controller
```java
//ê²Œì‹œë¬¼ ê¸€ì“°ê¸° get ë©”ì†Œë“œ
      @GetMapping("/freewrite")
      public String getFreeWrite() throws Exception{
        
         return "/board/freeboard_write";
      }

      //ê²Œì‹œë¬¼ ê¸€ì‘ì„± post ë©”ì†Œë“œ
      @PostMapping("/freewrite")
      public String postFreeWrite(FreeBoardVO vo) throws Exception{
         service.freeWrite(vo);
         
         return "redirect:/free/freelist?searchType=T&keyword=&num=1";
      }
      
      //ê²Œì‹œë¬¼ ìˆ˜ì • getë©”ì†Œë“œ
      @GetMapping("/freemodify")
      public String getFreeModify(@RequestParam("b_num") int b_num, Model model) throws Exception{
         
         FreeBoardVO vo = service.getFreeDetail(b_num);
         model.addAttribute("freedetail", vo);
         
         return "/board/freeboard_modify";
      }
      
      //ê²Œì‹œë¬¼ ìˆ˜ì • post ë©”ì†Œë“œ
      @PostMapping("/freemodify")
      public String postFreeModify(FreeBoardVO vo) throws Exception{
         service.freeModify(vo);
         int b_num = vo.getB_num();
         return "redirect:/free/freedetail?reply_num=1&b_num="+b_num;
      }
      
      //ê²Œì‹œë¬¼ ì‚­ì œ
      @PostMapping("/freedelete")
      public String getDelete(int b_num) throws Exception{
         service.freeDelete(b_num);
         return "redirect:/free/freelist?searchType=T&keyword=&num=1";
      }
```
â–¶ï¸ urlë¡œ ì‘ì„±í•˜ê³  ìˆ˜ì •í•˜ëŠ” ì¼ì´ ë°œìƒí•˜ì§€ ì•Šê²Œ get, postë°©ì‹ ëª¨ë‘ êµ¬í˜„í•¨ <br>

## ììœ ê²Œì‹œíŒ ëŒ“ê¸€ ìˆ˜ì •
- controller
```java
//ëŒ“ê¸€ ìˆ˜ì • ë·°
      @PostMapping("/result")
      public @ResponseBody ReplyVO replyModify(@RequestParam("c_num") int c_num) throws Exception{
//         public @ResponseBody ResponseEntity<ReplyVO> replyModify(@RequestParam("c_num") int c_num) throws Exception{
         ReplyVO result = service.replyDetail(c_num);
//        return new ResponseEntity<ReplyVO>(result,HttpStatus.OK);
         return result; //ajaxì— ë„˜ê²¨ì¤„ ê°’
      }
     
      // ëŒ“ê¸€ ìˆ˜ì • ì—…ë°ì´íŠ¸
      @PostMapping("/replyModify")
      public String replyModify(ReplyVO vo, int reply_num) throws Exception {
         service.replyModify(vo);
         int b_num = vo.getB_num();//b_numì€ ê·¸ ê²Œì‹œë¬¼ ë²ˆí˜¸
         return "redirect:/free/freedetail?reply_num="+reply_num+"&b_num="+b_num;         
      }
      
```
- jsp
```javascript
$('.free_reply_modify').on("click",updateviewBtn);
        function updateviewBtn(e){
    	   e.preventDefault();
           let c_num = $(this).attr("href");
           let replyModi = $(".reply"+c_num);
    	   let b_num = $("#b_num").val();
    	   let reply_num = ${select};
           $.ajax({
        	   url: "result",
        	   type: "POST",
        	   data: {"c_num": c_num},
        	   success : function(result){ //controllerì—ì„œ ë°˜í™˜ëœ ê°’ê°’
        		   replyModi.empty();
        		   var commentsview = "";
        		   commentsview += '<form action="/free/replyModify" name="replymodiform" id="replymodiform" method="post">'; 
                   commentsview += '<ul class="reply_textbox">';
                   commentsview += '<div class="reply_textbox2" style="border:none;">';
                   commentsview += '<div class="reply_wr">';
                   commentsview += '<label class="reply_writer">';
                   commentsview += '<p>'+ result.c_writer;
                   
                   commentsview += '</p>';
                   commentsview += '</div>';
                   commentsview += '<textarea rows="5" cols="50" class="reply_text2" style="resize:none;" id="reply_modify" name="c_contents">';
                   commentsview += 	result.c_contents;
                   commentsview += '</textarea>';
                   commentsview += '<input type="hidden" value="'+ result.c_num + '" name="c_num" />';
                   commentsview += '<input type="hidden" value="'+ reply_num + '" name="reply_num" />';
                   commentsview += '<input type="hidden" value="'+ b_num + '" name="b_num" />';
                   commentsview += '</div>';
                   commentsview += '<div>';
                   commentsview += '<button type="button" class="reply_btn" onclick="replyModiCheck();">';
                   commentsview += 'ìˆ˜ì •ì™„ë£Œ';
                   commentsview += '</button>';
                   commentsview += '</div>';
                   commentsview += '</div>';
                   commentsview += '</form>';
                   replyModi.append(commentsview);
        	   },
        	   error: function(request, error){
               	console.log("ajax ì‹¤íŒ¨");
               	console.log("code:"+request.status+"\n"+"message"+request.responseText+"\n"+"error:"+error);
               }
        })
       } 
        function replyModiCheck(){
        	if($("#reply_modify").val() == "") {
        		alert("ëŒ“ê¸€ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
        		return false;
        	} 
        	$("#replymodiform").submit();
        	
        }
```
